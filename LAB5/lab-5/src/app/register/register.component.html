<div class="container">
  <h2>Register</h2>

  <form #registerForm="ngForm">
    <div class="form-group">
      <label for="username">Username</label>
      <input
        type="text"
        id="username"
        class="form-control"
        name="username"
        [(ngModel)]="user.username"
        pattern="[a-zA-Z]*"
        required
      />
      <div
        *ngIf="
          registerForm.controls.username?.invalid &&
          registerForm.controls.username?.touched
        "
        class="text-danger"
      >
        <small *ngIf="registerForm.controls.username?.errors?.required"
          >Username is required.</small
        >
        <small *ngIf="registerForm.controls.username?.errors?.pattern"
          >Username must contain only capital and small characters.</small
        >
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input
        type="email"
        id="email"
        class="form-control"
        name="email"
        [(ngModel)]="user.email"
        required
        email
      />
      <div
        *ngIf="
          registerForm.controls.email?.invalid &&
          registerForm.controls.email?.touched
        "
        class="text-danger"
      >
        <small *ngIf="registerForm.controls.email?.errors?.required"
          >Email is required.</small
        >
        <small *ngIf="registerForm.controls.email?.errors?.email"
          >Email format is invalid.</small
        >
      </div>
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <input
        type="password"
        id="password"
        class="form-control"
        name="password"
        [(ngModel)]="user.password"
        required
      />
      <div
        *ngIf="
          registerForm.controls.password?.invalid &&
          registerForm.controls.password?.touched
        "
        class="text-danger"
      >
        <small>Password is required.</small>
      </div>
    </div>

    <div class="form-group">
      <label for="confirmPassword">Confirm Password</label>
      <input
        type="password"
        id="confirmPassword"
        class="form-control"
        name="confirmPassword"
        [(ngModel)]="user.confirmPassword"
        required
      />
      <div
        *ngIf="
          registerForm.controls.confirmPassword?.invalid &&
          registerForm.controls.confirmPassword?.touched
        "
        class="text-danger"
      >
        <small>Confirm password is required.</small>
      </div>
    </div>

    <div class="form-group">
      <label for="source">Where did you hear about us?</label>
      <select
        id="source"
        class="form-control"
        name="source"
        [(ngModel)]="user.source"
        required
      >
        <option value="">--Select--</option>
        <option value="facebook">Facebook</option>
        <option value="twitter">Twitter</option>
        <option value="google">Google</option>
      </select>
      <div
        *ngIf="
          registerForm.controls.source?.invalid &&
          registerForm.controls.source?.touched
        "
        class="text-danger"
      >
        <small>Please select a source.</small>
      </div>
    </div>

    <button
      type="submit"
      [disabled]="registerForm.invalid"
      [ngClass]="{
        'btn-danger': registerForm.invalid,
        'btn-success': !registerForm.invalid
      }"
      class="btn"
    >
      Register
    </button>
  </form>
</div>
